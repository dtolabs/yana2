<yana>
  <attributes>

    <attribute id="controller" filter="String"/>

    <!-- Package -->
    <attribute id="arch" filter="String"/>
    <attribute id="base" filter="String"/>
    <attribute id="buildtime" filter="String"/>
    <attribute id="filename" filter="String"/>
    <attribute id="filetype" filter="String"/>
    <attribute id="installroot" filter="String"/>
    <attribute id="installrank" filter="String"/>
    <attribute id="release" filter="String"/>
    <attribute id="releasetag" filter="String"/>
    <attribute id="repoUrl" filter="URL"/>
    <attribute id="vendor" filter="String"/>
    <attribute id="version" filter="String"/>

    <!-- Host -->
    <attribute id="hostname" filter="String"/>
    <attribute id="osFamily" filter="String"/>
    <attribute id="osName" filter="String"/>
    <attribute id="osVersion" filter="String"/> 
    <attribute id="osArch" filter="String"/>
    <attribute id="username" filter="String"/> 
    <attribute id="appname" filter="String"/> 
    <attribute id="environment" filter="String"/> 
    <attribute id="service" filter="String"/> 

    <!-- Service -->
    <attribute id="basedir" filter="String"/>
    <attribute id="startuprank" filter="String"/>
    <attribute id="port" filter="String"/>
  </attributes>

  <nodetypes>

    <nodetype id="Host">
      <description>An application host</description>
      <image>Node.png</image>
      <nodeAttributes>
	<nodeAttribute id="host.hostname" attribute="hostname" required="true"/>
	<nodeAttribute id="host.osArch" attribute="arch" required="false"/>
	<nodeAttribute id="host.osFamily" attribute="osFamily" required="false"/>
	<nodeAttribute id="host.osName" attribute="osName" required="false"/>
	<nodeAttribute id="host.osVersion" attribute="osVersion" required="false"/>
	<nodeAttribute id="host.username" attribute="username" required="false"/>
	<nodeAttribute id="host.port" attribute="port" required="false"/>
	<nodeAttribute id="host.basedir" attribute="basedir" required="false"/>
	<nodeAttribute id="host.appname" attribute="appname" required="false"/>
	<nodeAttribute id="host.service" attribute="service" required="false"/>
	<nodeAttribute id="host.environment" attribute="environment" required="false"/>
      </nodeAttributes>

    </nodetype>

    <nodetype id="Package">
      <description>A software package</description>
      <image>Package.png</image>
      <nodeAttributes>
	<nodeAttribute id="package.arch" attribute="arch" required="false"/>
	<nodeAttribute id="package.base" attribute="base" required="false"/>
	<nodeAttribute id="package.buildtime" attribute="buildtime" required="false"/>
	<nodeAttribute id="package.filename" attribute="filename" required="false"/>
	<nodeAttribute id="package.filetype" attribute="filetype" required="false"/>
	<nodeAttribute id="package.installroot" attribute="installroot" required="false"/>
	<nodeAttribute id="package.installrank" attribute="installrank" required="false"/>
	<nodeAttribute id="package.release" attribute="release" required="false"/>
	<nodeAttribute id="package.releasetag" attribute="releasetag" required="false"/>
	<nodeAttribute id="package.repoUrl" attribute="repoUrl" required="false"/>
	<nodeAttribute id="package.vendor" attribute="vendor" required="false"/>
	<nodeAttribute id="package.version" attribute="version" required="false"/>
	<nodeAttribute id="package.controller" attribute="controller" required="false"/>
      </nodeAttributes>
    </nodetype>

    <nodetype id="Service">
      <description>A software service</description>
      <image>Service.png</image>
      <nodeAttributes>
	<nodeAttribute id="service.basedir" attribute="basedir" required="false"/>
	<nodeAttribute id="service.startuprank" attribute="startuprank" required="false"/>
	<nodeAttribute id="service.controller" attribute="controller" required="false"/>
	<nodeAttribute id="service.port" attribute="port" required="false"/>
      </nodeAttributes>
    </nodetype> 

    <nodetype id="Site">
      <description>A service site</description>
      <image>Site.png</image>
      <nodeAttributes>
	<nodeAttribute id="site.startuprank" attribute="startuprank" required="false"/>
      </nodeAttributes>
    </nodetype> 

  </nodetypes>
  <!--
      Host Instances 
  -->
  <nodes>
    <node id="ubuntu" nodetype="Host" tags="tomcat,simpleapp,qa">
      <description>The ubuntu server</description>
      <values>
	<attributeValue nodeAttribute="host.hostname">ubuntu</attributeValue>            
	<attributeValue nodeAttribute="host.osArch">i386</attributeValue>              
	<attributeValue nodeAttribute="host.osFamily">unix</attributeValue>              
	<attributeValue nodeAttribute="host.osName">Linux</attributeValue>             
	<attributeValue nodeAttribute="host.osVersion">2.6.32-28-generic</attributeValue>              
	<attributeValue nodeAttribute="host.username">alexh</attributeValue>              
	<attributeValue nodeAttribute="host.port">18080</attributeValue>              
	<attributeValue nodeAttribute="host.basedir">/tmp/demo/tomcat</attributeValue>              
	<attributeValue nodeAttribute="host.appname">simpleapp</attributeValue>              
	<attributeValue nodeAttribute="host.service">tomcat</attributeValue>              
	<attributeValue nodeAttribute="host.environment">qa</attributeValue>              
      </values>
    </node>

    <node id="tomcat" nodetype="Service" tags="QA">
      <description>The tomcat service</description>
      <values>
	<attributeValue nodeAttribute="service.basedir">/tmp/demo/tomcat</attributeValue>              
	<attributeValue nodeAttribute="service.startuprank">1</attributeValue>              
	<attributeValue nodeAttribute="service.controller">tomcat</attributeValue>              
	<attributeValue nodeAttribute="service.port">18080</attributeValue>              
      </values>
    </node>

    <node id="qa" nodetype="Site" tags="QA">
      <description>The QA site</description>
      <values>
	<attributeValue nodeAttribute="site.startuprank">1</attributeValue>              
      </values>
    </node>

   <node id="apache-tomcat-5.5.31" nodetype="Package" tags="tomcat">
      <description>the tomcat container</description>
      <values>
	<attributeValue nodeAttribute="package.arch">no-arch</attributeValue>  
	<attributeValue nodeAttribute="package.base">apache-tomcat-5.5.31</attributeValue>  
	<attributeValue nodeAttribute="package.filename">apache-tomcat-5.5.31.zip</attributeValue>  
	<attributeValue nodeAttribute="package.filetype">zip</attributeValue>  
	<attributeValue nodeAttribute="package.installroot">/tmp/demo/tomcat</attributeValue>  
	<attributeValue nodeAttribute="package.installrank">1</attributeValue>  
	<attributeValue nodeAttribute="package.repoUrl">http://localhost/simpleapp/apache-tomcat-5.5.31.zip</attributeValue>  
	<attributeValue nodeAttribute="package.version">5.5.31</attributeValue>  
	<attributeValue nodeAttribute="package.controller">zip</attributeValue>  
      </values>
    </node>        

   <node id="mysql-5.1" nodetype="Package" tags="mysql">
      <description>the mysql database</description>
      <values>
	<attributeValue nodeAttribute="package.arch">no-arch</attributeValue>  
	<attributeValue nodeAttribute="package.base">mysql-5.1</attributeValue>  
	<attributeValue nodeAttribute="package.filename">mysql-5.1.tgz</attributeValue>  
	<attributeValue nodeAttribute="package.filetype">tgz</attributeValue>  
	<attributeValue nodeAttribute="package.installroot">/tmp/demo/mysql</attributeValue>  
	<attributeValue nodeAttribute="package.installrank">2</attributeValue>  
	<attributeValue nodeAttribute="package.repoUrl">http://localhost/database/mysql-5.1.tgz</attributeValue>  
	<attributeValue nodeAttribute="package.version">5.1</attributeValue>  
	<attributeValue nodeAttribute="package.controller">tgz</attributeValue>  
      </values>
    </node>        


   <node id="simple-1.0.0.war" nodetype="Package" tags="tomcat">
      <description>the simple webapp</description>
      <values>
	<attributeValue nodeAttribute="package.arch">no-arch</attributeValue>  
	<attributeValue nodeAttribute="package.base">simple</attributeValue>  
	<attributeValue nodeAttribute="package.filename">simple-1.0.0.war</attributeValue>  
	<attributeValue nodeAttribute="package.filetype">war</attributeValue>  
	<attributeValue nodeAttribute="package.installroot">/tmp/demo/tomcat/webapps</attributeValue>  
	<attributeValue nodeAttribute="package.installrank">1</attributeValue>  
	<attributeValue nodeAttribute="package.repoUrl">http://localhost/simpleapp/simple-1.0.0.war</attributeValue>  
	<attributeValue nodeAttribute="package.version">1.0.0</attributeValue> 
	<attributeValue nodeAttribute="package.controller">war</attributeValue>   
      </values>
    </node>        
  </nodes>

  <nodetyperelationships>
    <nodetyperelationship rolename="environment" parent="Site" child="Host"/>
    <nodetyperelationship rolename="service" parent="Host" child="Service"/>
    <nodetyperelationship rolename="package" parent="Service" child="Package"/>
  </nodetyperelationships>


  <noderelationships>
    <noderelationship relationshipname="QA" parent="qa" child="ubuntu"/>
    <noderelationship relationshipname="server" parent="ubuntu" child="tomcat"/>
    <noderelationship relationshipname="zip" parent="tomcat" child="apache-tomcat-5.5.31"/>
    <noderelationship relationshipname="war" parent="tomcat" child="simple-1.0.0.war"/>
  </noderelationships>

</yana>
